<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link rel="stylesheet" href="/style.css">
  <script src="/addTag.js" defer></script>
  <script src="/editTagName.js" defer></script>
  <script src="/deleteTag.js" defer></script>
  <script src="/sortObjects.js" defer></script>
  <script src="/cancelTagSearch.js" defer></script>
</head>

<body>
  <div class="header">
    <h1>Edit Tags</h1>
    <a href="/tags"><button class="done-edit-button">Done</button></a>
    <form method="GET" class="search-form">
      <div class="search-field">
        <label class="search-icon-container" for="search">ğŸ”</label>
        <input type="text" name="keyword" placeholder="Search" id="search" value="<%= keyword %>">
      </div>
    </form>
    <form action="/tags/edit" method="GET" class="sort-form">
      <select name="sort">
        <% sortOptions?.forEach(sortOption => {  %>
        <option value="<%= sortOption.value %>" <%= !sortOption.value && 'disabled' %> <%= sortOption.isSelected && 'selected' %>><%= sortOption.name %></option>
        <% })%>
      </select>
    </form>
  </div>
  <% if(tags.length > 0) {%>
  <% tags.forEach(tag => { %>
  <form action="/tags/delete" method="POST" class="delete-tag-form">
    <input type="text" value="<%= tag.id %>" name='tagID' hidden>
    <div class="tag-name" data-id="<%= tag.id %>"><%= tag.name %></div>
    <button type="button" class="delete-tag-button">ğŸ—‘ï¸</button>
  </form>
  <% }) %>
  <% }  else {%>
  <div class="search-default-message">
    <div class="icon-container">
    </div>
    <h2>Add tags to easily access items</h2>
    <button class="add-tag-button">Add tag</button>
  </div>
  <% }%>

  <%- include('partials/nav') %>
</body>

</html>